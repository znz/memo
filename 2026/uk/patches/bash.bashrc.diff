diff --git a/bash.bashrc b/bash.bashrc
index ec92e54..a290f37 100644
--- a/bash.bashrc
+++ b/bash.bashrc
@@ -4,7 +4,7 @@
 # this file has to be sourced in /etc/profile.
 
 # If not running interactively, don't do anything
-[ -z "$PS1" ] && return
+[ -z "${PS1:+set}" ] && return
 
 # check the window size after each command and, if necessary,
 # update the values of LINES and COLUMNS.
